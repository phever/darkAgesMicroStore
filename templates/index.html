{% extends 'base.html' %}
{% load static %}

{% block content %}
	<div class="flex flex-col justify-center items-center" id="content-block">

		<div class="text-3xl mt-6">
			<p class="permanent-marker-regular">Iglis.Shop</p>
		</div>

		<div class="w-5/6 text-end mb-2">
			{# Dark Mode Toggle button #}
			<button type="button"
			        class="relative rounded-full bg-blue-200 p-1 text-black hover:text-gray-700 focus:outline-none
					        focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 dark:bg-gray-950
									dark:text-gray-400 dark:hover:text-white"
			        onclick="toggleModal()">
				<span class="absolute -inset-1.5"></span>
				<i class="w-6 fas fa-shopping-basket"></i>
			</button>
			{# Dark Mode Toggle button #}
			<button type="button"
			        class="relative rounded-full bg-blue-200 p-1 text-black hover:text-gray-700 focus:outline-none
					        focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 dark:bg-gray-950
									dark:text-gray-400 dark:hover:text-white"
			        onclick="toggleDarkMode()">
				<span class="absolute -inset-1.5"></span>
				<i class="w-6 fas fa-sun"></i>
			</button>
		</div>

		<div class="bg-blue-200 dark:bg-gray-900 rounded w-5/6 p-4 mb-3" id="table-container">
			<table class="" id="shop-table">
				<thead>
				<tr>
					<th>Item</th>
					<th>In Stock</th>
					<th>Price</th>
					<th>Description</th>
				</tr>
				</thead>
				<tbody>
				{% for item in items %}
					<tr>
						<td class="flex items-center"><p>{{ item.name }}</p>&nbsp;<img src="{{ item.image }}" alt="{{ item.name }}">
						</td>
						<td class="has-tooltip text-end">{% if item.qty > 0 %}{{ item.qty }}{% if item.to_order %}
							<i class="fas fa-bag-shopping"></i><span class="tooltip rounded p-2 bg-blue-50 dark:bg-gray-800">I will hunt as many of these as you need</span>
						{% endif %}
						{% elif item.to_order %}
							<i class="fas fa-bag-shopping"></i><span class="tooltip rounded p-2 bg-blue-50 dark:bg-gray-800">I will hunt as many of these as you need</span>
						{% else %}
							{{ item.qty }}
						{% endif %}</td>
						<td>{{ item.price|floatformat }} {{ item.get_units }}</td>
						<td>{{ item.description }}</td>
					</tr>
				{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
	<div id="modal" class="absolute left-0 top-0 w-full h-full hidden" onclick="toggleModal()">
	</div>
	<div class="absolute left-0 top-0 justify-center bg-blue-50 text-black dark:bg-gray-900 dark:text-gray-400 rounded hidden" id="popup">
		<p class="p-4">If you want any of these items please hit up Iglis on Discord @<span class="font-extrabold">kryptosfang</span>
		</p>
	</div>
{% endblock %}
